# ğŸ”§ Ğ“Ğ†Ğ” Ğ’Ğ†Ğ”ĞĞĞ’Ğ›Ğ•ĞĞĞ¯ Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞ˜ ProGran3

## ğŸ“‹ Ğ—ĞœĞ†Ğ¡Ğ¢
1. [Ğ—Ğ°Ğ³Ğ°Ğ»ÑŒĞ½Ğ° Ğ°Ñ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°](#Ğ·Ğ°Ğ³Ğ°Ğ»ÑŒĞ½Ğ°-Ğ°Ñ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°)
2. [Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ²](#ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°-Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ²)
3. [ĞšĞ»ÑÑ‡Ğ¾Ğ²Ñ– Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ–](#ĞºĞ»ÑÑ‡Ğ¾Ğ²Ñ–-Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ–)
4. [API Ñ‚Ğ° ĞºĞ¾Ğ¼ÑƒĞ½Ñ–ĞºĞ°Ñ†Ñ–Ñ](#api-Ñ‚Ğ°-ĞºĞ¾Ğ¼ÑƒĞ½Ñ–ĞºĞ°Ñ†Ñ–Ñ)
5. [Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ¸Ñ…](#Ğ±Ğ°Ğ·Ğ°-Ğ´Ğ°Ğ½Ğ¸Ñ…)
6. [ĞšĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ](#ĞºĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ)
7. [Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹](#Ğ´ĞµĞ¿Ğ»Ğ¾Ğ¹)
8. [Ğ’Ñ–Ğ´Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ](#Ğ²Ñ–Ğ´Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ)

---

## ğŸ—ï¸ Ğ—ĞĞ“ĞĞ›Ğ¬ĞĞ ĞĞ Ğ¥Ğ†Ğ¢Ğ•ĞšĞ¢Ğ£Ğ Ğ

### ĞÑ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ– ÑˆĞ°Ñ€Ğ¸:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              FRONTEND (JavaScript)      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   UI Layer  â”‚   Business Logic    â”‚  â”‚
â”‚  â”‚   (Tabs,    â”‚   (StateManager,    â”‚  â”‚
â”‚  â”‚  Panels)    â”‚    Validation)      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            SKETCHUP BRIDGE              â”‚
â”‚         (JavaScript â†” Ruby)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              BACKEND (Ruby)             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Core      â”‚   Builders          â”‚  â”‚
â”‚  â”‚   (Model,   â”‚   (Foundation,      â”‚  â”‚
â”‚  â”‚  Loader)    â”‚    Tiling, etc)     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SERVER (Next.js)           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   API       â”‚   Database          â”‚  â”‚
â”‚  â”‚   (Heartbeatâ”‚   (Supabase)        â”‚  â”‚
â”‚  â”‚    Plugins) â”‚                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ Ğ¤ĞĞ™Ğ›Ğ†Ğ’

```
ProGran3/
â”œâ”€â”€ plugin/                              # SketchUp Plugin
â”‚   â”œâ”€â”€ proGran3.rb                      # Ğ“Ğ¾Ğ»Ğ¾Ğ²Ğ½Ğ¸Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ (802 Ñ€ÑĞ´ĞºĞ¸)
â”‚   â”œâ”€â”€ deploy_simple.bat                # Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ´ĞµĞ¿Ğ»Ğ¾Ñ
â”‚   â””â”€â”€ proGran3/                        # ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¸Ğ¹ ĞºĞ¾Ğ´
â”‚       â”œâ”€â”€ assets/                      # 3D ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¸
â”‚       â”‚   â”œâ”€â”€ stands/                  # ĞŸÑ–Ğ´ÑÑ‚Ğ°Ğ²ĞºĞ¸
â”‚       â”‚   â”œâ”€â”€ steles/                  # Ğ¡Ñ‚ĞµĞ»Ğ¸
â”‚       â”‚   â”œâ”€â”€ flowerbeds/              # ĞšĞ²Ñ–Ñ‚Ğ½Ğ¸ĞºĞ¸
â”‚       â”‚   â”œâ”€â”€ gravestones/             # ĞĞ°Ğ´Ğ³Ñ€Ğ¾Ğ±Ğ½Ñ– Ğ¿Ğ»Ğ¸Ñ‚Ğ¸
â”‚       â”‚   â”œâ”€â”€ lamps/                   # Ğ›Ğ°Ğ¼Ğ¿Ğ°Ğ´ĞºĞ¸
â”‚       â”‚   â”œâ”€â”€ fence_decor/             # Ğ”ĞµĞºĞ¾Ñ€ Ğ¾Ğ³Ğ¾Ñ€Ğ¾Ğ¶Ñ–
â”‚       â”‚   â””â”€â”€ pavement_tiles/          # ĞŸĞ»Ğ¸Ñ‚ĞºĞ°
â”‚       â”œâ”€â”€ builders/                    # Ğ‘ÑƒĞ´Ñ–Ğ²ĞµĞ»ÑŒĞ½Ğ¸ĞºĞ¸ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ–Ğ²
â”‚       â”‚   â”œâ”€â”€ foundation_builder.rb    # Ğ¤ÑƒĞ½Ğ´Ğ°Ğ¼ĞµĞ½Ñ‚
â”‚       â”‚   â”œâ”€â”€ blind_area_builder.rb    # Ğ’Ñ–Ğ´Ğ¼Ğ¾ÑÑ‚ĞºĞ°
â”‚       â”‚   â”œâ”€â”€ cladding_builder.rb      # ĞĞ±Ğ»Ğ¸Ñ†ÑĞ²Ğ°Ğ½Ğ½Ñ
â”‚       â”‚   â”œâ”€â”€ fence_builder.rb         # ĞĞ³Ğ¾Ñ€Ğ¾Ğ¶Ğ°
â”‚       â”‚   â””â”€â”€ tiling_builder.rb        # ĞŸĞ»Ğ¸Ñ‚ĞºĞ°
â”‚       â”œâ”€â”€ carousel/                    # Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° ĞºĞ°Ñ€ÑƒÑĞµĞ»ĞµĞ¹
â”‚       â”‚   â”œâ”€â”€ carousel_manager.rb      # ĞœĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ ĞºĞ°Ñ€ÑƒÑĞµĞ»ĞµĞ¹
â”‚       â”‚   â””â”€â”€ carousel_ui.rb           # UI ĞºĞ°Ñ€ÑƒÑĞµĞ»ĞµĞ¹
â”‚       â”œâ”€â”€ security/                    # Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ±ĞµĞ·Ğ¿ĞµĞºĞ¸
â”‚       â”‚   â”œâ”€â”€ anti_tampering.rb        # Ğ—Ğ°Ñ…Ğ¸ÑÑ‚ Ğ²Ñ–Ğ´ Ğ¼Ğ¾Ğ´Ğ¸Ñ„Ñ–ĞºĞ°Ñ†Ñ–Ñ—
â”‚       â”‚   â”œâ”€â”€ crypto_utils.rb          # ĞšÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ğ³Ñ€Ğ°Ñ„Ñ–Ñ‡Ğ½Ñ– ÑƒÑ‚Ğ¸Ğ»Ñ–Ñ‚Ğ¸
â”‚       â”‚   â”œâ”€â”€ integrity_checker.rb     # ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° Ñ†Ñ–Ğ»Ñ–ÑĞ½Ğ¾ÑÑ‚Ñ–
â”‚       â”‚   â”œâ”€â”€ license_manager.rb       # ĞœĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ Ğ»Ñ–Ñ†ĞµĞ½Ğ·Ñ–Ğ¹
â”‚       â”‚   â”œâ”€â”€ security_manager.rb      # Ğ“Ğ¾Ğ»Ğ¾Ğ²Ğ½Ğ¸Ğ¹ Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ Ğ±ĞµĞ·Ğ¿ĞµĞºĞ¸
â”‚       â”‚   â””â”€â”€ security_monitor.rb      # ĞœĞ¾Ğ½Ñ–Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ±ĞµĞ·Ğ¿ĞµĞºĞ¸
â”‚       â”œâ”€â”€ web/                         # Frontend
â”‚       â”‚   â”œâ”€â”€ index.html               # Ğ“Ğ¾Ğ»Ğ¾Ğ²Ğ½Ğ° ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºĞ°
â”‚       â”‚   â”œâ”€â”€ script.js                # ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¸Ğ¹ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ (2800+ Ñ€ÑĞ´ĞºÑ–Ğ²)
â”‚       â”‚   â”œâ”€â”€ style.css                # Ğ¡Ñ‚Ğ¸Ğ»Ñ–
â”‚       â”‚   â”œâ”€â”€ blocking-functions.js    # Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ñ— Ğ±Ğ»Ğ¾ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ
â”‚       â”‚   â”œâ”€â”€ css/                     # Ğ¡Ñ‚Ğ¸Ğ»Ñ–
â”‚       â”‚   â”‚   â”œâ”€â”€ base.css
â”‚       â”‚   â”‚   â”œâ”€â”€ components.css
â”‚       â”‚   â”‚   â””â”€â”€ layout.css
â”‚       â”‚   â”œâ”€â”€ i18n/                    # Ğ†Ğ½Ñ‚ĞµÑ€Ğ½Ğ°Ñ†Ñ–Ğ¾Ğ½Ğ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ
â”‚       â”‚   â”‚   â”œâ”€â”€ I18nManager.js
â”‚       â”‚   â”‚   â””â”€â”€ locales/
â”‚       â”‚   â”‚       â”œâ”€â”€ en.json
â”‚       â”‚   â”‚       â”œâ”€â”€ pl.json
â”‚       â”‚   â”‚       â””â”€â”€ uk.json
â”‚       â”‚   â””â”€â”€ modules/                 # ĞœĞ¾Ğ´ÑƒĞ»ÑŒĞ½Ğ° ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°
â”‚       â”‚       â”œâ”€â”€ core/                # ĞÑĞ½Ğ¾Ğ²Ğ½Ñ– Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ–
â”‚       â”‚       â”‚   â”œâ”€â”€ Config.js        # ĞšĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ
â”‚       â”‚       â”‚   â”œâ”€â”€ DebugManager.js  # ĞœĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ Ğ½Ğ°Ğ»Ğ°Ğ³Ğ¾Ğ´Ğ¶ĞµĞ½Ğ½Ñ
â”‚       â”‚       â”‚   â”œâ”€â”€ GlobalState.js   # Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹ ÑÑ‚Ğ°Ğ½
â”‚       â”‚       â”‚   â”œâ”€â”€ I18nManager.js   # ĞœĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ Ğ»Ğ¾ĞºĞ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ—
â”‚       â”‚       â”‚   â”œâ”€â”€ Logger.js        # Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ»Ğ¾Ğ³ÑƒĞ²Ğ°Ğ½Ğ½Ñ
â”‚       â”‚       â”‚   â””â”€â”€ StateManager.js  # ĞœĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ ÑÑ‚Ğ°Ğ½Ñƒ
â”‚       â”‚       â”œâ”€â”€ communication/       # ĞšĞ¾Ğ¼ÑƒĞ½Ñ–ĞºĞ°Ñ†Ñ–Ñ
â”‚       â”‚       â”‚   â””â”€â”€ SketchUpBridge.js # ĞœÑ–ÑÑ‚ Ğ· SketchUp
â”‚       â”‚       â”œâ”€â”€ ui/                  # UI Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ–
â”‚       â”‚       â”‚   â”œâ”€â”€ AccordionManager.js # ĞœĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ Ğ°ĞºĞ¾Ñ€Ğ´ĞµĞ¾Ğ½Ñ–Ğ²
â”‚       â”‚       â”‚   â”œâ”€â”€ LanguageSwitcher.js # ĞŸĞµÑ€ĞµĞ¼Ğ¸ĞºĞ°Ñ‡ Ğ¼Ğ¾Ğ²Ğ¸
â”‚       â”‚       â”‚   â”œâ”€â”€ Panels.js        # ĞŸĞ°Ğ½ĞµĞ»Ñ–
â”‚       â”‚       â”‚   â”œâ”€â”€ SummaryTable.js  # Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ Ğ¿Ñ–Ğ´ÑÑƒĞ¼ĞºÑ–Ğ²
â”‚       â”‚       â”‚   â””â”€â”€ Tabs.js          # Ğ¢Ğ°Ğ±Ğ¸
â”‚       â”‚       â”œâ”€â”€ utils/               # Ğ£Ñ‚Ğ¸Ğ»Ñ–Ñ‚Ğ¸
â”‚       â”‚       â”‚   â”œâ”€â”€ Helpers.js       # Ğ”Ğ¾Ğ¿Ğ¾Ğ¼Ñ–Ğ¶Ğ½Ñ– Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ—
â”‚       â”‚       â”‚   â””â”€â”€ Validation.js    # Ğ’Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ
â”‚       â”‚       â””â”€â”€ builders/            # Ğ‘ÑƒĞ´Ñ–Ğ²ĞµĞ»ÑŒĞ½Ğ¸ĞºĞ¸
â”‚       â”‚           â””â”€â”€ FoundationBuilder.js # Ğ‘ÑƒĞ´Ñ–Ğ²ĞµĞ»ÑŒĞ½Ğ¸Ğº Ñ„ÑƒĞ½Ğ´Ğ°Ğ¼ĞµĞ½Ñ‚Ñƒ
â”‚       â”œâ”€â”€ callback_manager.rb          # ĞœĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ callback'Ñ–Ğ²
â”‚       â”œâ”€â”€ constants.rb                 # ĞšĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚Ğ¸
â”‚       â”œâ”€â”€ coordination_manager.rb      # ĞšĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ†Ñ–Ğ¹Ğ½Ğ¸Ğ¹ Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€
â”‚       â”œâ”€â”€ dimensions_manager.rb        # ĞœĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ Ñ€Ğ¾Ğ·Ğ¼Ñ–Ñ€Ñ–Ğ²
â”‚       â”œâ”€â”€ error_handler.rb             # ĞĞ±Ñ€Ğ¾Ğ±ĞºĞ° Ğ¿Ğ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº
â”‚       â”œâ”€â”€ loader.rb                    # Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ÑƒĞ²Ğ°Ñ‡ (1295 Ñ€ÑĞ´ĞºÑ–Ğ²)
â”‚       â”œâ”€â”€ logger.rb                    # Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ»Ğ¾Ğ³ÑƒĞ²Ğ°Ğ½Ğ½Ñ
â”‚       â”œâ”€â”€ model_state_manager.rb       # ĞœĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ ÑÑ‚Ğ°Ğ½Ñƒ Ğ¼Ğ¾Ğ´ĞµĞ»Ñ– (672 Ñ€ÑĞ´ĞºĞ¸)
â”‚       â”œâ”€â”€ skp_preview_extractor.rb     # Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ Ğ¿Ñ€ĞµĞ²ÑŒÑ
â”‚       â”œâ”€â”€ ui.rb                        # UI Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€
â”‚       â””â”€â”€ validation.rb                # Ğ’Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ
â”œâ”€â”€ server/                              # Ğ¡ĞµÑ€Ğ²ĞµÑ€Ğ½Ğ° Ñ‡Ğ°ÑÑ‚Ğ¸Ğ½Ğ°
â”‚   â”œâ”€â”€ src/                             # Ğ’Ğ¸Ñ…Ñ–Ğ´Ğ½Ğ¸Ğ¹ ĞºĞ¾Ğ´
â”‚   â”‚   â”œâ”€â”€ app/                         # Next.js App Router
â”‚   â”‚   â”‚   â”œâ”€â”€ api/                     # API endpoints
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ heartbeat/           # Heartbeat API
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts         # POST /api/heartbeat
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ init/                # Ğ†Ğ½Ñ–Ñ†Ñ–Ğ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts         # GET /api/init
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ plugins/             # ĞŸĞ»Ğ°Ğ³Ñ–Ğ½Ğ¸ API
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts         # GET /api/plugins
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ block/           # Ğ‘Ğ»Ğ¾ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts     # POST /api/plugins/block
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ check-email/     # ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° email
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts     # POST /api/plugins/check-email
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ license/             # Ğ›Ñ–Ñ†ĞµĞ½Ğ·Ñ–Ğ¹Ğ½Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ activate/        # ĞĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ñ–Ñ Ğ»Ñ–Ñ†ĞµĞ½Ğ·Ñ–Ñ—
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ generate/        # Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ñ–Ñ Ğ»Ñ–Ñ†ĞµĞ½Ğ·Ñ–Ñ—
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ types/           # Ğ¢Ğ¸Ğ¿Ğ¸ Ğ»Ñ–Ñ†ĞµĞ½Ğ·Ñ–Ğ¹
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ validate/        # Ğ’Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ Ğ»Ñ–Ñ†ĞµĞ½Ğ·Ñ–Ñ—
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/                   # ĞĞ´Ğ¼Ñ–Ğ½ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ licenses/            # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»Ñ–Ğ½Ğ½Ñ Ğ»Ñ–Ñ†ĞµĞ½Ğ·Ñ–ÑĞ¼Ğ¸
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/               # Dashboard
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx             # Ğ“Ğ¾Ğ»Ğ¾Ğ²Ğ½Ğ° ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºĞ°
â”‚   â”‚   â”‚   â”œâ”€â”€ globals.css              # Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ñ– ÑÑ‚Ğ¸Ğ»Ñ–
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx               # ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¸Ğ¹ layout
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx                 # Ğ“Ğ¾Ğ»Ğ¾Ğ²Ğ½Ğ° ÑÑ‚Ğ¾Ñ€Ñ–Ğ½ĞºĞ°
â”‚   â”‚   â””â”€â”€ lib/                         # Ğ‘Ñ–Ğ±Ğ»Ñ–Ğ¾Ñ‚ĞµĞºĞ¸
â”‚   â”‚       â”œâ”€â”€ database.ts              # Ğ Ğ¾Ğ±Ğ¾Ñ‚Ğ° Ğ· Ğ‘Ğ”
â”‚   â”‚       â”œâ”€â”€ license-generator.ts     # Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ Ğ»Ñ–Ñ†ĞµĞ½Ğ·Ñ–Ğ¹
â”‚   â”‚       â””â”€â”€ types.ts                 # TypeScript Ñ‚Ğ¸Ğ¿Ğ¸
â”‚   â”œâ”€â”€ migrations/                      # ĞœÑ–Ğ³Ñ€Ğ°Ñ†Ñ–Ñ— Ğ‘Ğ”
â”‚   â”‚   â”œâ”€â”€ 003_create_all_tables.sql    # Ğ¡Ñ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†ÑŒ
â”‚   â”‚   â”œâ”€â”€ 004_add_mac_address.sql      # Ğ”Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ½Ğ½Ñ MAC Ğ°Ğ´Ñ€ĞµÑĞ¸
â”‚   â”‚   â””â”€â”€ 005_remove_mac_address.sql   # Ğ’Ğ¸Ğ´Ğ°Ğ»ĞµĞ½Ğ½Ñ MAC Ğ°Ğ´Ñ€ĞµÑĞ¸
â”‚   â”œâ”€â”€ package.json                     # Ğ—Ğ°Ğ»ĞµĞ¶Ğ½Ğ¾ÑÑ‚Ñ–
â”‚   â”œâ”€â”€ next.config.js                   # ĞšĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ Next.js
â”‚   â”œâ”€â”€ tailwind.config.js               # ĞšĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ Tailwind
â”‚   â””â”€â”€ tsconfig.json                    # ĞšĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ TypeScript
â”œâ”€â”€ docs/                                # Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ñ–Ñ
â”‚   â”œâ”€â”€ ACTION_PLAN.md                   # ĞŸĞ»Ğ°Ğ½ Ğ´Ñ–Ğ¹
â”‚   â”œâ”€â”€ ARCHITECTURE.md                  # ĞÑ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°
â”‚   â”œâ”€â”€ ARCHITECTURE_DIAGRAMS.md         # Ğ”Ñ–Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¸ Ğ°Ñ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ¸
â”‚   â”œâ”€â”€ LICENSE_SYSTEM_PLAN.md           # ĞŸĞ»Ğ°Ğ½ Ğ»Ñ–Ñ†ĞµĞ½Ğ·Ñ–Ğ¹Ğ½Ğ¾Ñ— ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸
â”‚   â””â”€â”€ SERVER_INTEGRATION.md            # Ğ†Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ñ–Ñ ÑĞµÑ€Ğ²ĞµÑ€Ğ°
â”œâ”€â”€ DEVELOPMENT_LOG.md                   # Ğ›Ğ¾Ğ³ Ñ€Ğ¾Ğ·Ñ€Ğ¾Ğ±ĞºĞ¸
â”œâ”€â”€ README.md                            # Ğ“Ğ¾Ğ»Ğ¾Ğ²Ğ½Ğ¸Ğ¹ README
â”œâ”€â”€ SERVER_INTEGRATION.md                # Ğ†Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ñ–Ñ ÑĞµÑ€Ğ²ĞµÑ€Ğ°
â””â”€â”€ vercel.json                          # ĞšĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ Vercel
```

---

## ğŸ”§ ĞšĞ›Ğ®Ğ§ĞĞ’Ğ† ĞœĞĞ”Ğ£Ğ›Ğ†

### 1. Ğ“Ğ¾Ğ»Ğ¾Ğ²Ğ½Ğ¸Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ (`proGran3.rb`)
```ruby
module ProGran3
  # ĞÑĞ½Ğ¾Ğ²Ğ½Ñ– ĞºĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚Ğ¸
  PLUGIN_VERSION = "1.0.0"
  PLUGIN_NAME = "ProGran3"
  
  # Ğ“Ğ¾Ğ»Ğ¾Ğ²Ğ½Ñ– Ğ¼ĞµÑ‚Ğ¾Ğ´Ğ¸:
  # - initialize_tracker() - Ñ–Ğ½Ñ–Ñ†Ñ–Ğ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ Ñ‚Ñ€ĞµĞºĞµÑ€Ğ°
  # - start_tracking() - Ğ·Ğ°Ğ¿ÑƒÑĞº Ğ²Ñ–Ğ´ÑÑ‚ĞµĞ¶ĞµĞ½Ğ½Ñ
  # - stop_tracking() - Ğ·ÑƒĞ¿Ğ¸Ğ½ĞºĞ° Ğ²Ñ–Ğ´ÑÑ‚ĞµĞ¶ĞµĞ½Ğ½Ñ
  # - send_heartbeat() - Ğ²Ñ–Ğ´Ğ¿Ñ€Ğ°Ğ²ĞºĞ° heartbeat
  # - check_blocking_status() - Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° ÑÑ‚Ğ°Ñ‚ÑƒÑÑƒ Ğ±Ğ»Ğ¾ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ
end
```

### 2. Model State Manager (`model_state_manager.rb`)
```ruby
class ModelStateManager
  # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»Ñ–Ğ½Ğ½Ñ ÑÑ‚Ğ°Ğ½Ğ¾Ğ¼ Ğ¼Ğ¾Ğ´ĞµĞ»Ñ– SketchUp
  # - component_added() - Ğ´Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ½Ğ½Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°
  # - component_removed() - Ğ²Ğ¸Ğ´Ğ°Ğ»ĞµĞ½Ğ½Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°
  # - save_state_before_update() - Ğ·Ğ±ĞµÑ€ĞµĞ¶ĞµĞ½Ğ½Ñ ÑÑ‚Ğ°Ğ½Ñƒ
  # - restore_state_after_update() - Ğ²Ñ–Ğ´Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ ÑÑ‚Ğ°Ğ½Ñƒ
  # - can_add_component?() - Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚Ñ– Ğ´Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ½Ğ½Ñ
end
```

### 3. UI Manager (`ui.rb`)
```ruby
class UI
  # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»Ñ–Ğ½Ğ½Ñ UI SketchUp
  # - show_dialog() - Ğ¿Ğ¾ĞºĞ°Ğ· Ğ´Ñ–Ğ°Ğ»Ğ¾Ğ³Ñƒ
  # - register_callbacks() - Ñ€ĞµÑ”ÑÑ‚Ñ€Ğ°Ñ†Ñ–Ñ callback'Ñ–Ğ²
  # - generate_web_preview() - Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ñ–Ñ Ğ¿Ñ€ĞµĞ²ÑŒÑ
  # - add_blocking_status_callback() - callback Ğ±Ğ»Ğ¾ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ
end
```

### 4. Loader (`loader.rb`)
```ruby
class Loader
  # Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ–Ğ² SketchUp
  # - insert_component() - Ğ²ÑÑ‚Ğ°Ğ²ĞºĞ° ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°
  # - load_skp_file() - Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ .skp Ñ„Ğ°Ğ¹Ğ»Ñƒ
  # - cleanup_component() - Ğ¾Ñ‡Ğ¸Ñ‰ĞµĞ½Ğ½Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°
end
```

### 5. Validation (`validation.rb`)
```ruby
module Validation
  # Ğ’Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ Ğ´Ğ°Ğ½Ğ¸Ñ…
  # - validate_dimensions() - Ğ²Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ Ñ€Ğ¾Ğ·Ğ¼Ñ–Ñ€Ñ–Ğ²
  # - validate_file() - Ğ²Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ²
  # - validate_component_data() - Ğ²Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ Ğ´Ğ°Ğ½Ğ¸Ñ… ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°
end
```

### 6. Error Handler (`error_handler.rb`)
```ruby
module ErrorHandler
  # ĞĞ±Ñ€Ğ¾Ğ±ĞºĞ° Ğ¿Ğ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº
  # - handle_error() - Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ° Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸
  # - safe_execute() - Ğ±ĞµĞ·Ğ¿ĞµÑ‡Ğ½Ğµ Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ğ½Ñ
  # - show_user_friendly_error() - Ğ¿Ğ¾ĞºĞ°Ğ· Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ñƒ
end
```

---

## ğŸŒ API Ğ¢Ğ ĞšĞĞœĞ£ĞĞ†ĞšĞĞ¦Ğ†Ğ¯

### Frontend (JavaScript)
```javascript
// Namespace Pattern Ğ´Ğ»Ñ ÑÑƒĞ¼Ñ–ÑĞ½Ğ¾ÑÑ‚Ñ– Ğ· SketchUp CEF
(function(global) {
  'use strict';
  
  global.ProGran3 = global.ProGran3 || {};
  global.ProGran3.Core = global.ProGran3.Core || {};
  
  // ĞœĞ¾Ğ´ÑƒĞ»Ñ–:
  // - ProGran3.Core.Config - ĞºĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ
  // - ProGran3.Core.Logger - Ğ»Ğ¾Ğ³ÑƒĞ²Ğ°Ğ½Ğ½Ñ
  // - ProGran3.Core.StateManager - ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»Ñ–Ğ½Ğ½Ñ ÑÑ‚Ğ°Ğ½Ğ¾Ğ¼
  // - ProGran3.Utils.Validation - Ğ²Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ
  // - ProGran3.Communication.SketchUpBridge - Ğ¼Ñ–ÑÑ‚ Ğ· SketchUp
  
})(window);
```

### SketchUp Bridge
```javascript
// ĞšĞ¾Ğ¼ÑƒĞ½Ñ–ĞºĞ°Ñ†Ñ–Ñ Ğ¼Ñ–Ğ¶ JavaScript Ñ‚Ğ° Ruby
window.sketchup = {
  add_foundation: function(depth, width, height) { /* ... */ },
  add_tiles: function(mode, seam) { /* ... */ },
  generate_web_preview: function(component_path) { /* ... */ },
  ready: function() { /* ... */ }
};
```

### Server API
```typescript
// POST /api/heartbeat
interface HeartbeatRequest {
  plugin_id: string;
  plugin_name: string;
  version: string;
  user_id: string;
  computer_name: string;
  system_info: object;
  timestamp: string;
  action: string;
  source: string;
  update_existing: boolean;
  force_update: boolean;
}

// GET /api/plugins
interface PluginsResponse {
  success: boolean;
  data: {
    plugins: PluginRecord[];
    stats: PluginStats;
    last_updated: string;
  };
}
```

---

## ğŸ—„ï¸ Ğ‘ĞĞ—Ğ Ğ”ĞĞĞ˜Ğ¥

### Supabase Tables
```sql
-- Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ Ğ¿Ğ»Ğ°Ğ³Ñ–Ğ½Ñ–Ğ²
CREATE TABLE plugins (
  id SERIAL PRIMARY KEY,
  plugin_id VARCHAR(255) UNIQUE NOT NULL,
  plugin_name VARCHAR(255) NOT NULL,
  version VARCHAR(50) NOT NULL,
  user_id VARCHAR(255) NOT NULL,
  computer_name VARCHAR(255) NOT NULL,
  system_info JSONB,
  ip_address INET,
  last_heartbeat TIMESTAMP WITH TIME ZONE NOT NULL,
  is_active BOOLEAN DEFAULT true,
  is_blocked BOOLEAN DEFAULT false,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Ğ†Ğ½Ğ´ĞµĞºÑĞ¸
CREATE INDEX idx_plugins_plugin_id ON plugins(plugin_id);
CREATE INDEX idx_plugins_last_heartbeat ON plugins(last_heartbeat);
CREATE INDEX idx_plugins_is_active ON plugins(is_active);
CREATE INDEX idx_plugins_is_blocked ON plugins(is_blocked);
```

### Database Functions
```typescript
// database.ts
export async function upsertPlugin(data: any, ipAddress: string): Promise<UpsertResult>
export async function getAllPlugins(): Promise<PluginRecord[]>
export async function markPluginInactive(pluginId: string): Promise<UpsertResult>
export async function deletePlugin(pluginId: string): Promise<boolean>
export async function blockPlugin(pluginId: string): Promise<boolean>
export async function unblockPlugin(pluginId: string): Promise<boolean>
```

---

## âš™ï¸ ĞšĞĞĞ¤Ğ†Ğ“Ğ£Ğ ĞĞ¦Ğ†Ğ¯

### Plugin Configuration
```ruby
# constants.rb
module ProGran3
  module Constants
    PLUGIN_ROOT = File.dirname(File.dirname(__FILE__))
    ASSETS_PATH = File.join(PLUGIN_ROOT, 'assets')
    WEB_PATH = File.join(PLUGIN_ROOT, 'proGran3', 'web')
    
    DEFAULT_PREVIEW_SIZE = 256
    MAX_PREVIEW_SIZE = 512
    MIN_PREVIEW_SIZE = 64
    
    SUPPORTED_UNITS = [:mm, :cm]
    DEFAULT_UNIT = :mm
    
    DEFAULT_DIALOG_WIDTH = 500
    DEFAULT_DIALOG_HEIGHT = 850
  end
end
```

### Server Configuration
```typescript
// next.config.js
const nextConfig = {
  experimental: {
    appDir: true,
  },
  env: {
    STORAGE_SUPABASE_URL: process.env.STORAGE_SUPABASE_URL,
    STORAGE_SUPABASE_SERVICE_ROLE_KEY: process.env.STORAGE_SUPABASE_SERVICE_ROLE_KEY,
  },
}
```

### Environment Variables
```env
# .env.local
STORAGE_SUPABASE_URL=https://your-project.supabase.co
STORAGE_SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
NODE_ENV=production
```

---

## ğŸš€ Ğ”Ğ•ĞŸĞ›ĞĞ™

### Plugin Deploy
```batch
REM deploy_simple.bat
@echo off
echo Deploying ProGran3 Plugin...

REM Copy files to SketchUp Plugins directory
xcopy /E /I /Y "proGran3" "%APPDATA%\SketchUp\SketchUp 2024\SketchUp\Plugins\progran3"

echo Plugin deployed successfully!
pause
```

### Server Deploy (Vercel)
```json
// vercel.json
{
  "framework": "nextjs",
  "buildCommand": "npm run build",
  "outputDirectory": ".next",
  "installCommand": "npm install",
  "env": {
    "STORAGE_SUPABASE_URL": "@storage_supabase_url",
    "STORAGE_SUPABASE_SERVICE_ROLE_KEY": "@storage_supabase_service_role_key"
  }
}
```

### Deploy Commands
```bash
# Plugin
cd plugin
./deploy_simple.bat

# Server
cd server
npm run build
vercel --prod
```

---

## ğŸ”„ Ğ’Ğ†Ğ”ĞĞĞ’Ğ›Ğ•ĞĞĞ¯

### 1. Ğ’Ñ–Ğ´Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Plugin
```bash
# 1. Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ¿Ğ°Ğ¿Ğ¾Ğº
mkdir -p plugin/proGran3/{assets,builders,carousel,security,web/{css,i18n,modules/{core,communication,ui,utils,builders}}}

# 2. Ğ’Ñ–Ğ´Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ– Ñ„Ğ°Ğ¹Ğ»Ğ¸
# - proGran3.rb (802 Ñ€ÑĞ´ĞºĞ¸)
# - ui.rb
# - loader.rb (1295 Ñ€ÑĞ´ĞºÑ–Ğ²)
# - model_state_manager.rb (672 Ñ€ÑĞ´ĞºĞ¸)
# - constants.rb
# - validation.rb
# - error_handler.rb
# - logger.rb

# 3. Ğ’Ñ–Ğ´Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸ builders
# - foundation_builder.rb
# - blind_area_builder.rb
# - cladding_builder.rb
# - fence_builder.rb
# - tiling_builder.rb

# 4. Ğ’Ñ–Ğ´Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸ web Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ–
# - index.html
# - script.js (2800+ Ñ€ÑĞ´ĞºÑ–Ğ²)
# - style.css
# - blocking-functions.js
# - modules/*.js (Ğ²ÑÑ– Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ–)

# 5. Ğ’Ñ–Ğ´Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸ assets
# - Ğ’ÑÑ– .skp Ñ„Ğ°Ğ¹Ğ»Ğ¸ Ğ² assets/
```

### 2. Ğ’Ñ–Ğ´Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Server
```bash
# 1. Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ Next.js Ğ¿Ñ€Ğ¾ĞµĞºÑ‚
npx create-next-app@latest server --typescript --tailwind --app

# 2. Ğ’ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸ Ğ·Ğ°Ğ»ĞµĞ¶Ğ½Ğ¾ÑÑ‚Ñ–
cd server
npm install @supabase/supabase-js

# 3. Ğ’Ñ–Ğ´Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ğ¸
# - src/app/api/heartbeat/route.ts
# - src/app/api/plugins/route.ts
# - src/app/dashboard/page.tsx
# - src/lib/database.ts
# - src/lib/types.ts

# 4. ĞĞ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ Supabase
# - Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ² Supabase
# - Ğ’Ğ¸ĞºĞ¾Ğ½Ğ°Ñ‚Ğ¸ Ğ¼Ñ–Ğ³Ñ€Ğ°Ñ†Ñ–Ñ—
# - ĞĞ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ·Ğ¼Ñ–Ğ½Ğ½Ñ– ÑĞµÑ€ĞµĞ´Ğ¾Ğ²Ğ¸Ñ‰Ğ°

# 5. Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹ Ğ½Ğ° Vercel
vercel --prod
```

### 3. Ğ’Ñ–Ğ´Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ‘Ğ°Ğ·Ğ¸ Ğ”Ğ°Ğ½Ğ¸Ñ…
```sql
-- 1. Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ plugins
CREATE TABLE plugins (
  id SERIAL PRIMARY KEY,
  plugin_id VARCHAR(255) UNIQUE NOT NULL,
  plugin_name VARCHAR(255) NOT NULL,
  version VARCHAR(50) NOT NULL,
  user_id VARCHAR(255) NOT NULL,
  computer_name VARCHAR(255) NOT NULL,
  system_info JSONB,
  ip_address INET,
  last_heartbeat TIMESTAMP WITH TIME ZONE NOT NULL,
  is_active BOOLEAN DEFAULT true,
  is_blocked BOOLEAN DEFAULT false,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- 2. Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ Ñ–Ğ½Ğ´ĞµĞºÑĞ¸
CREATE INDEX idx_plugins_plugin_id ON plugins(plugin_id);
CREATE INDEX idx_plugins_last_heartbeat ON plugins(last_heartbeat);
CREATE INDEX idx_plugins_is_active ON plugins(is_active);
CREATE INDEX idx_plugins_is_blocked ON plugins(is_blocked);
```

---

## ğŸ“Š ĞšĞ›Ğ®Ğ§ĞĞ’Ğ† Ğ¤Ğ£ĞĞšĞ¦Ğ†Ğ‡

### Plugin Functions
```ruby
# ĞÑĞ½Ğ¾Ğ²Ğ½Ñ– Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ—
ProGran3.initialize_tracker()      # Ğ†Ğ½Ñ–Ñ†Ñ–Ğ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ Ñ‚Ñ€ĞµĞºĞµÑ€Ğ°
ProGran3.start_tracking()          # Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ²Ñ–Ğ´ÑÑ‚ĞµĞ¶ĞµĞ½Ğ½Ñ
ProGran3.stop_tracking()           # Ğ—ÑƒĞ¿Ğ¸Ğ½ĞºĞ° Ğ²Ñ–Ğ´ÑÑ‚ĞµĞ¶ĞµĞ½Ğ½Ñ
ProGran3.send_heartbeat()          # Ğ’Ñ–Ğ´Ğ¿Ñ€Ğ°Ğ²ĞºĞ° heartbeat
ProGran3.check_blocking_status()   # ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° ÑÑ‚Ğ°Ñ‚ÑƒÑÑƒ Ğ±Ğ»Ğ¾ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ

# UI Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ—
UI.show_dialog()                   # ĞŸĞ¾ĞºĞ°Ğ· Ğ´Ñ–Ğ°Ğ»Ğ¾Ğ³Ñƒ
UI.register_callbacks()            # Ğ ĞµÑ”ÑÑ‚Ñ€Ğ°Ñ†Ñ–Ñ callback'Ñ–Ğ²
UI.generate_web_preview()          # Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ñ–Ñ Ğ¿Ñ€ĞµĞ²ÑŒÑ

# Builders
FoundationBuilder.create()         # Ğ¡Ñ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ñ„ÑƒĞ½Ğ´Ğ°Ğ¼ĞµĞ½Ñ‚Ñƒ
TilingBuilder.create()             # Ğ¡Ñ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ğ¿Ğ»Ğ¸Ñ‚ĞºĞ¸
CladdingBuilder.create()           # Ğ¡Ñ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ğ¾Ğ±Ğ»Ğ¸Ñ†ÑĞ²Ğ°Ğ½Ğ½Ñ
FenceBuilder.create()              # Ğ¡Ñ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ğ¾Ğ³Ğ¾Ñ€Ğ¾Ğ¶Ñ–
```

### JavaScript Functions
```javascript
// ĞÑĞ½Ğ¾Ğ²Ğ½Ñ– Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ—
switchTab(tabName)                 # ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ñ Ñ‚Ğ°Ğ±Ñ–Ğ²
updateCarouselsInActiveTab()       # ĞĞ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ ĞºĞ°Ñ€ÑƒÑĞµĞ»ĞµĞ¹
initializeApp()                    # Ğ†Ğ½Ñ–Ñ†Ñ–Ğ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ Ğ´Ğ¾Ğ´Ğ°Ñ‚ĞºÑƒ

// Builders
addFoundation()                    # Ğ”Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ½Ğ½Ñ Ñ„ÑƒĞ½Ğ´Ğ°Ğ¼ĞµĞ½Ñ‚Ñƒ
addTiles()                         # Ğ”Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ½Ğ½Ñ Ğ¿Ğ»Ğ¸Ñ‚ĞºĞ¸
addSideCladding()                  # Ğ”Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ½Ğ½Ñ Ğ¾Ğ±Ğ»Ğ¸Ñ†ÑĞ²Ğ°Ğ½Ğ½Ñ
addFenceCorner()                   # Ğ”Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ½Ğ½Ñ ĞºÑƒÑ‚Ğ¾Ğ²Ğ¾Ñ— Ğ¾Ğ³Ğ¾Ñ€Ğ¾Ğ¶Ñ–

// Preview
generateModelPreview()             # Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ñ–Ñ Ğ¿Ñ€ĞµĞ²ÑŒÑ Ğ¼Ğ¾Ğ´ĞµĞ»Ñ–
receiveWebPreview()                # ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ Ğ¿Ñ€ĞµĞ²ÑŒÑ
```

### Server Functions
```typescript
// API Endpoints
POST /api/heartbeat                # Ğ’Ñ–Ğ´ÑÑ‚ĞµĞ¶ĞµĞ½Ğ½Ñ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ñ–
GET /api/plugins                   # Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¿Ğ»Ğ°Ğ³Ñ–Ğ½Ñ–Ğ²
POST /api/plugins/block            # Ğ‘Ğ»Ğ¾ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¿Ğ»Ğ°Ğ³Ñ–Ğ½Ğ°
POST /api/plugins/unblock          # Ğ Ğ¾Ğ·Ğ±Ğ»Ğ¾ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¿Ğ»Ğ°Ğ³Ñ–Ğ½Ğ°

// Database Functions
upsertPlugin()                     # ĞĞ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ/ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ğ¿Ğ»Ğ°Ğ³Ñ–Ğ½Ğ°
getAllPlugins()                    # ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ Ğ²ÑÑ–Ñ… Ğ¿Ğ»Ğ°Ğ³Ñ–Ğ½Ñ–Ğ²
markPluginInactive()               # ĞŸĞ¾Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ ÑĞº Ğ½ĞµĞ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¸Ğ¹
blockPlugin()                      # Ğ‘Ğ»Ğ¾ĞºÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¿Ğ»Ğ°Ğ³Ñ–Ğ½Ğ°
```

---

## ğŸ”’ Ğ‘Ğ•Ğ—ĞŸĞ•ĞšĞ

### Security Features
```ruby
# Anti-tampering
ProGran3::Security::AntiTampering.check_integrity()

# Crypto utils
ProGran3::Security::CryptoUtils.encrypt_data()
ProGran3::Security::CryptoUtils.decrypt_data()

# License management
ProGran3::Security::LicenseManager.validate_license()
ProGran3::Security::LicenseManager.generate_license()

# Security monitoring
ProGran3::Security::SecurityMonitor.monitor_activity()
```

### Validation
```ruby
# Ğ’Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ Ñ€Ğ¾Ğ·Ğ¼Ñ–Ñ€Ñ–Ğ²
Validation.validate_dimensions(width, height, thickness)

# Ğ’Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ²
Validation.validate_file(file_path)

# Ğ’Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ–Ğ²
Validation.validate_component_data(data)
```

---

## ğŸ“ˆ ĞœĞĞĞ†Ğ¢ĞĞ Ğ˜ĞĞ“

### Heartbeat System
```ruby
# Ğ’Ñ–Ğ´Ğ¿Ñ€Ğ°Ğ²ĞºĞ° heartbeat ĞºĞ¾Ğ¶Ğ½Ñ– 5 Ñ…Ğ²Ğ¸Ğ»Ğ¸Ğ½
def send_heartbeat_with_retry
  data = {
    plugin_id: @plugin_id,
    plugin_name: "ProGran3",
    version: get_plugin_version,
    user_id: get_user_identifier,
    computer_name: Socket.gethostname,
    system_info: get_system_info,
    timestamp: Time.now.iso8601,
    action: "heartbeat_update",
    source: "sketchup_plugin",
    update_existing: true,
    force_update: false
  }
  
  # Ğ’Ñ–Ğ´Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ´Ğ¾ ÑĞµÑ€Ğ²ĞµÑ€Ğ°
  response = send_http_request(data)
  
  # ĞĞ±Ñ€Ğ¾Ğ±ĞºĞ° Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ñ–
  if response[:success]
    handle_heartbeat_response(response)
  else
    handle_heartbeat_error(response)
  end
end
```

### Dashboard
```typescript
// Ğ ĞµĞ°Ğ»ÑŒĞ½Ğ¸Ğ¹ Ñ‡Ğ°Ñ Ğ¼Ğ¾Ğ½Ñ–Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ñƒ
const Dashboard = () => {
  const [plugins, setPlugins] = useState<PluginRecord[]>([]);
  const [stats, setStats] = useState<PluginStats | null>(null);
  
  useEffect(() => {
    const interval = setInterval(async () => {
      const response = await fetch('/api/plugins');
      const data = await response.json();
      setPlugins(data.data.plugins);
      setStats(data.data.stats);
    }, 5000);
    
    return () => clearInterval(interval);
  }, []);
  
  return (
    <div>
      {/* Dashboard UI */}
    </div>
  );
};
```

---

## ğŸ¯ Ğ’Ğ˜Ğ¡ĞĞĞ’ĞĞš

Ğ¦ĞµĞ¹ Ğ³Ñ–Ğ´ Ğ¼Ñ–ÑÑ‚Ğ¸Ñ‚ÑŒ Ğ²ÑÑ Ğ½ĞµĞ¾Ğ±Ñ…Ñ–Ğ´Ğ½Ñƒ Ñ–Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ñ–Ñ Ğ´Ğ»Ñ Ğ²Ñ–Ğ´Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸ ProGran3:

1. **ĞÑ€Ñ…Ñ–Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°** - Ğ¿Ğ¾Ğ²Ğ½Ğ° ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¸
2. **Ğ¤Ğ°Ğ¹Ğ»Ğ¸** - Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ²ÑÑ–Ñ… Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ²
3. **ĞœĞ¾Ğ´ÑƒĞ»Ñ–** - Ğ¾Ğ¿Ğ¸Ñ Ğ²ÑÑ–Ñ… ĞºĞ»ÑÑ‡Ğ¾Ğ²Ğ¸Ñ… Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ–Ğ²
4. **API** - Ğ²ÑÑ– endpoints Ñ‚Ğ° Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ—
5. **Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ¸Ñ…** - ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ‚Ğ° Ğ¼Ñ–Ğ³Ñ€Ğ°Ñ†Ñ–Ñ—
6. **ĞšĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ** - Ğ²ÑÑ– Ğ½Ğ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ
7. **Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹** - Ñ–Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ñ–Ñ— Ñ€Ğ¾Ğ·Ğ³Ğ¾Ñ€Ñ‚Ğ°Ğ½Ğ½Ñ
8. **Ğ’Ñ–Ğ´Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ** - Ğ¿Ğ¾ĞºÑ€Ğ¾ĞºĞ¾Ğ²Ñ– Ñ–Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ñ–Ñ—

**Ğ— Ñ†Ğ¸Ğ¼ Ğ³Ñ–Ğ´Ğ¾Ğ¼ Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ¿Ğ¾Ğ²Ğ½Ñ–ÑÑ‚Ñ Ğ²Ñ–Ğ´Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ ProGran3!** ğŸš€
