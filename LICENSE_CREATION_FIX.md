# üîß –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ª—ñ—Ü–µ–Ω–∑—ñ–π

## ‚úÖ **–©–æ –±—É–ª–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ:**

### **1. –ü—Ä–æ–±–ª–µ–º–∞ –∑ –∫–Ω–æ–ø–∫–æ—é —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ª—ñ—Ü–µ–Ω–∑—ñ—ó**

#### **–î–æ–¥–∞–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è:**
```javascript
const createLicense = async () => {
  try {
    console.log('Creating license with data:', licenseData);
    
    const response = await fetch('/api/admin/licenses', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(licenseData),
    });
    
    console.log('Response status:', response.status);
    console.log('Response data:', data);
    
    // –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫...
  } catch (error) {
    console.error('Error creating license:', error);
  }
};
```

#### **–ü–æ–∫—Ä–∞—â–µ–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫:**
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏
- ‚úÖ –õ–æ–≥—É–≤–∞–Ω–Ω—è –≤ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- ‚úÖ –û—á–∏—â–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ –ø—Ä–∏ —É—Å–ø—ñ—à–Ω–æ–º—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ

### **2. –ó–º—ñ–Ω–∞ –ª–æ–≥—ñ–∫–∏ —Ç–µ—Ä–º—ñ–Ω—É –¥—ñ—ó –ª—ñ—Ü–µ–Ω–∑—ñ—ó**

#### **–ë—É–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```sql
expires_at TIMESTAMP -- –ê–±—Å–æ–ª—é—Ç–Ω–∞ –¥–∞—Ç–∞ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è
```

#### **–°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```sql
days_valid INTEGER DEFAULT 365 -- –î–Ω—ñ–≤ –¥—ñ—ó –∑ –º–æ–º–µ–Ω—Ç—É –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó
```

#### **–õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏:**
1. **–ê–¥–º—ñ–Ω —Å—Ç–≤–æ—Ä—é—î –ª—ñ—Ü–µ–Ω–∑—ñ—é** - –≤–∫–∞–∑—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–Ω—ñ–≤ –¥—ñ—ó (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 365)
2. **–ö–ª—ñ—î–Ω—Ç –∞–∫—Ç–∏–≤—É—î –ª—ñ—Ü–µ–Ω–∑—ñ—é** - –¥–∞—Ç–∞ –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó –∑–∞–ø–∏—Å—É—î—Ç—å—Å—è –≤ `user_licenses`
3. **–¢–µ—Ä–º—ñ–Ω –¥—ñ—ó —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è** - `activated_at + days_valid`
4. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∞–ª—ñ–¥–Ω–æ—Å—Ç—ñ** - –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ –ø–æ—Ç–æ—á–Ω–æ—é –¥–∞—Ç–æ—é

### **3. –û–Ω–æ–≤–ª–µ–Ω–∏–π UI –¥–∞—à–±–æ—Ä–¥—É**

#### **–ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ª—ñ—Ü–µ–Ω–∑—ñ—ó:**
```
üìù –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –ª—ñ—Ü–µ–Ω–∑—ñ—é
‚îú‚îÄ‚îÄ –ö–ª—é—á –ª—ñ—Ü–µ–Ω–∑—ñ—ó: [–ü–æ–ª–µ] [–ö–Ω–æ–ø–∫–∞ "–ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏"]
‚îú‚îÄ‚îÄ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∞–∫—Ç–∏–≤–∞—Ü—ñ–π: [–ß–∏—Å–ª–æ]
‚îú‚îÄ‚îÄ –ö—ñ–ª—å–∫—ñ—Å—Ç—å –¥–Ω—ñ–≤ –¥—ñ—ó: [365] –¥–Ω—ñ–≤
‚îÇ   ‚îî‚îÄ‚îÄ üí° –õ—ñ—Ü–µ–Ω–∑—ñ—è –±—É–¥–µ –¥—ñ–π—Å–Ω–∞ –≤–∫–∞–∑–∞–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–Ω—ñ–≤ –∑ –º–æ–º–µ–Ω—Ç—É –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó –∫–ª—ñ—î–Ω—Ç–æ–º
‚îú‚îÄ‚îÄ ‚òëÔ∏è –ê–∫—Ç–∏–≤–Ω–∞ –ª—ñ—Ü–µ–Ω–∑—ñ—è
‚îî‚îÄ‚îÄ [–°–∫–∞—Å—É–≤–∞—Ç–∏] [–°—Ç–≤–æ—Ä–∏—Ç–∏ –ª—ñ—Ü–µ–Ω–∑—ñ—é]
```

#### **–¢–∞–±–ª–∏—Ü—è –ª—ñ—Ü–µ–Ω–∑—ñ–π:**
- ‚úÖ **–ö–æ–ª–æ–Ω–∫–∞ "–î–Ω—ñ–≤ –¥—ñ—ó"** –∑–∞–º—ñ—Å—Ç—å "–¢–µ—Ä–º—ñ–Ω –¥—ñ—ó"
- ‚úÖ **–í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è** "365 –¥–Ω—ñ–≤" –∑–∞–º—ñ—Å—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω–æ—ó –¥–∞—Ç–∏
- ‚úÖ **–ó—Ä–æ–∑—É–º—ñ–ª—ñ—Å—Ç—å** - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–Ω—ñ–≤ –∑ –º–æ–º–µ–Ω—Ç—É –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó

### **4. –û–Ω–æ–≤–ª–µ–Ω–∞ SQL —Å—Ö–µ–º–∞**

#### **–¢–∞–±–ª–∏—Ü—è `licenses`:**
```sql
CREATE TABLE licenses (
  id SERIAL PRIMARY KEY,
  license_key VARCHAR(255) UNIQUE NOT NULL,
  license_type VARCHAR(50) DEFAULT 'standard',
  days_valid INTEGER DEFAULT 365, -- –î–Ω—ñ–≤ –¥—ñ—ó –∑ –º–æ–º–µ–Ω—Ç—É –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó
  is_active BOOLEAN DEFAULT true,
  activation_count INTEGER DEFAULT 0,
  max_activations INTEGER DEFAULT 1,
  features JSONB,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

#### **–¢–∞–±–ª–∏—Ü—è `user_licenses`:**
```sql
CREATE TABLE user_licenses (
  id SERIAL PRIMARY KEY,
  email VARCHAR(255) NOT NULL,
  license_key VARCHAR(255) NOT NULL,
  hardware_id VARCHAR(255),
  activated_at TIMESTAMP DEFAULT NOW(), -- –î–∞—Ç–∞ –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó
  last_heartbeat TIMESTAMP,
  offline_count INTEGER DEFAULT 0,
  max_offline_hours INTEGER DEFAULT 24,
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(email, license_key, hardware_id)
);
```

### **5. API Endpoint –æ–Ω–æ–≤–ª–µ–Ω–æ**

#### **POST /api/admin/licenses:**
```json
{
  "license_key": "ABCD-EFGH-IJKL-MNOP", // –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è
  "max_activations": 1,
  "days_valid": 365, // –î–Ω—ñ–≤ –¥—ñ—ó –∑ –º–æ–º–µ–Ω—Ç—É –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó
  "is_active": true
}
```

#### **–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "success": true,
  "message": "License created successfully",
  "license": {
    "id": 123,
    "license_key": "ABCD-EFGH-IJKL-MNOP",
    "license_type": "standard",
    "days_valid": 365,
    "max_activations": 1,
    "is_active": true,
    "created_at": "2024-12-19T10:00:00Z"
  }
}
```

### **6. –ü–µ—Ä–µ–≤–∞–≥–∏ –Ω–æ–≤–æ—ó –ª–æ–≥—ñ–∫–∏**

#### **–î–ª—è –∞–¥–º—ñ–Ω–∞:**
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –≤–∫–∞–∑—É—î —Ç—ñ–ª—å–∫–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–Ω—ñ–≤
- ‚úÖ **–ì–Ω—É—á–∫—ñ—Å—Ç—å** - —Ä—ñ–∑–Ω—ñ —Ç–µ—Ä–º—ñ–Ω–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –ª—ñ—Ü–µ–Ω–∑—ñ–π
- ‚úÖ **–ó—Ä–æ–∑—É–º—ñ–ª—ñ—Å—Ç—å** - "365 –¥–Ω—ñ–≤" –∑–∞–º—ñ—Å—Ç—å —Å–∫–ª–∞–¥–Ω–∏—Ö –¥–∞—Ç

#### **–î–ª—è –∫–ª—ñ—î–Ω—Ç–∞:**
- ‚úÖ **–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤—ñ—Å—Ç—å** - —Ç–µ—Ä–º—ñ–Ω –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó
- ‚úÖ **–ü–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—ñ—Å—Ç—å** - –∑–Ω–∞—î —Å–∫—ñ–ª—å–∫–∏ –¥–Ω—ñ–≤ –∑–∞–ª–∏—à–∏–ª–æ—Å—å
- ‚úÖ **–ì–Ω—É—á–∫—ñ—Å—Ç—å** - –º–æ–∂–µ –∞–∫—Ç–∏–≤—É–≤–∞—Ç–∏ –∫–æ–ª–∏ –∑–∞—Ö–æ—á–µ

#### **–î–ª—è —Å–∏—Å—Ç–µ–º–∏:**
- ‚úÖ **–¢–æ—á–Ω—ñ—Å—Ç—å** - —Ç–µ—Ä–º—ñ–Ω —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ –¥–∞—Ç–∏
- ‚úÖ **–ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å** - –º–µ–Ω—à–µ –ø–æ–º–∏–ª–æ–∫ –∑ —á–∞—Å–æ–≤–∏–º–∏ –∑–æ–Ω–∞–º–∏

### **7. –ü—Ä–∏–∫–ª–∞–¥ —Ä–æ–±–æ—Ç–∏**

#### **–°—Ü–µ–Ω–∞—Ä—ñ–π 1: –†—ñ—á–Ω–∞ –ª—ñ—Ü–µ–Ω–∑—ñ—è**
1. –ê–¥–º—ñ–Ω —Å—Ç–≤–æ—Ä—é—î –ª—ñ—Ü–µ–Ω–∑—ñ—é –∑ `days_valid: 365`
2. –ö–ª—ñ—î–Ω—Ç –∞–∫—Ç–∏–≤—É—î 15 —Å—ñ—á–Ω—è 2024
3. –õ—ñ—Ü–µ–Ω–∑—ñ—è –¥—ñ–π—Å–Ω–∞ –¥–æ 15 —Å—ñ—á–Ω—è 2025
4. –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—î: `activated_at + 365 –¥–Ω—ñ–≤ > now()`

#### **–°—Ü–µ–Ω–∞—Ä—ñ–π 2: –¢—Ä–∏–º—ñ—Å—è—á–Ω–∞ –ª—ñ—Ü–µ–Ω–∑—ñ—è**
1. –ê–¥–º—ñ–Ω —Å—Ç–≤–æ—Ä—é—î –ª—ñ—Ü–µ–Ω–∑—ñ—é –∑ `days_valid: 90`
2. –ö–ª—ñ—î–Ω—Ç –∞–∫—Ç–∏–≤—É—î 1 –±–µ—Ä–µ–∑–Ω—è 2024
3. –õ—ñ—Ü–µ–Ω–∑—ñ—è –¥—ñ–π—Å–Ω–∞ –¥–æ 30 —Ç—Ä–∞–≤–Ω—è 2024
4. –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—î: `activated_at + 90 –¥–Ω—ñ–≤ > now()`

## üöÄ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

### **–í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ **–ö–Ω–æ–ø–∫–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ª—ñ—Ü–µ–Ω–∑—ñ—ó** –ø—Ä–∞—Ü—é—î
- ‚úÖ **–õ–æ–≥—ñ–∫–∞ —Ç–µ—Ä–º—ñ–Ω—É –¥—ñ—ó** –∑–º—ñ–Ω–µ–Ω–∞ –Ω–∞ –¥–Ω—ñ –∑ –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó
- ‚úÖ **UI –æ–Ω–æ–≤–ª–µ–Ω–∏–π** - –∑—Ä–æ–∑—É–º—ñ–ª—ñ –ø–æ–ª—è
- ‚úÖ **API –ø—Ä–∞—Ü—é—î** - –ø—Ä–∞–≤–∏–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –¥–∞–Ω–∏—Ö
- ‚úÖ **SQL —Å—Ö–µ–º–∞** –æ–Ω–æ–≤–ª–µ–Ω–∞

### **URLs:**
- **–î–∞—à–±–æ—Ä–¥**: `https://progran3-tracking-server-6a8ndvvpj-provis3ds-projects.vercel.app/dashboard`
- **–ü–ª–∞–≥—ñ–Ω URL**: –û–Ω–æ–≤–ª–µ–Ω–æ –≤ `plugin/proGran3.rb`

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–í–°–ï –í–ò–ü–†–ê–í–õ–ï–ù–û!** üéØ
