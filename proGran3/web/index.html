<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>proGran3 Конструктор</title>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="carousel/carousel.css">
</head>
<body>

  <div class="glass-container" id="main-content">
    <header>
      <h1 onclick="toggleTheme()" style="cursor: pointer;">ProGran</h1>
      <div class="unit-switcher">
        <div class="unit-toggle">
          <input type="radio" id="unit-mm" name="unit" value="mm" checked onchange="changeUnit('mm')">
          <input type="radio" id="unit-cm" name="unit" value="cm" onchange="changeUnit('cm')">
          <label for="unit-mm" class="unit-label" onclick="changeUnit('mm')">мм</label>
          <label for="unit-cm" class="unit-label" onclick="changeUnit('cm')">см</label>
          <div class="unit-slider"></div>
        </div>
      </div>
    </header>

    <!-- Навігація табів -->
    <div class="tabs-navigation">
      <button class="tab-button active" data-tab="base" onclick="switchTab('base')">База</button>
      <button class="tab-button" data-tab="monument" onclick="switchTab('monument')">Памятник</button>
      <button class="tab-button" data-tab="gravestone" onclick="switchTab('gravestone')">Надгробна частина</button>
      <button class="tab-button" data-tab="fence" onclick="switchTab('fence')">Огорожа</button>
      <button class="tab-button" data-tab="additional" onclick="switchTab('additional')">Додаткові елементи</button>

    </div>

    <!-- Таб "База" -->
    <div class="tab-content active" id="base-tab">
      <section class="panel">
        <div class="panel-header" onclick="togglePanel(this)">
          <h2 class="panel-title">Фундамент</h2>
          <span class="chevron"></span>
          <span id="foundation-dimensions-display" class="header-dimensions"></span>
        </div>
        <div class="panel-content">
          <div class="input-row">
            <div class="input-wrapper">
              <label id="foundation-depth-label" for="foundation-depth">Довжина (мм)</label>
              <input type="number" id="foundation-depth" value="2000" oninput="updateAllDisplays()">
            </div>
            <div class="input-wrapper">
              <label id="foundation-width-label" for="foundation-width">Ширина (мм)</label>
              <input type="number" id="foundation-width" value="1000" oninput="updateAllDisplays()">
            </div>
            <div class="input-wrapper">
              <label id="foundation-height-label" for="foundation-height">Висота (мм)</label>
              <input type="number" id="foundation-height" value="150" oninput="updateAllDisplays()">
            </div>
          </div>
          <button onclick="addFoundation(); advanceToNextPanel(this);">Створити фундамент</button>
        </div>
      </section>

      <section class="panel collapsed">
        <div class="panel-header" onclick="togglePanel(this)">
          <h2 class="panel-title">Відмостка</h2>
          <span class="chevron"></span>
          <span id="blind-area-dimensions-display" class="header-dimensions"></span>
        </div>
        <div class="panel-content">
          <!-- Режим ширини вгорі -->
          <div>
            <label>Режим ширини:</label>
            <div class="button-group-tiling-mode">
              <button type="button" class="tiling-mode-btn active" data-value="uniform" onclick="selectBlindAreaMode(this)">Однакова ширина</button>
              <button type="button" class="tiling-mode-btn" data-value="custom" onclick="selectBlindAreaMode(this)">Різна ширина</button>
            </div>
          </div>
          
          <!-- Ширина і товщина в один ряд -->
          <div class="input-row">
            <div class="input-wrapper">
              <label id="blind-area-thickness-label">Товщина (мм)</label>
              <input type="number" id="blind-area-thickness" value="50" min="30" max="200" oninput="updateAllDisplays()">
            </div>
            <div class="input-wrapper">
              <label id="blind-area-uniform-width-label">Ширина (мм)</label>
              <input type="number" id="blind-area-uniform-width" value="300" min="50" max="1000" oninput="updateAllDisplays()">
            </div>
          </div>
          
          <div id="uniform-controls">
            <!-- Порожній блок для однакової ширини (вже є в ряді вище) -->
          </div>
          
          <div id="custom-controls" class="hidden">
            <div class="input-row">
              <div class="input-wrapper">
                <label id="blind-area-north-label">Північна сторона (мм)</label>
                <input type="number" id="blind-area-north" value="300" min="50" max="1000" oninput="updateAllDisplays()">
              </div>
              <div class="input-wrapper">
                <label id="blind-area-south-label">Південна сторона (мм)</label>
                <input type="number" id="blind-area-south" value="300" min="50" max="1000" oninput="updateAllDisplays()">
              </div>
            </div>
            
            <div class="input-row">
              <div class="input-wrapper">
                <label id="blind-area-east-label">Східна сторона (мм)</label>
                <input type="number" id="blind-area-east" value="300" min="50" max="1000" oninput="updateAllDisplays()">
              </div>
              <div class="input-wrapper">
                <label id="blind-area-west-label">Західна сторона (мм)</label>
                <input type="number" id="blind-area-west" value="300" min="50" max="1000" oninput="updateAllDisplays()">
              </div>
            </div>
          </div>
          
          <button onclick="addBlindArea(); advanceToNextPanel(this);">Створити відмостку</button>
        </div>
      </section>

      <section class="panel collapsed">
        <div class="panel-header" onclick="togglePanel(this)">
          <h2 class="panel-title">Плитка на фундаменті</h2>
          <span class="chevron"></span>
          <span id="tiling-type-display" class="header-dimensions"></span>
        </div>
        <div class="panel-content">
          <div>
            <label class="label-left">Спосіб укладання:</label>
            <div class="button-group-tiling-mode">
              <button type="button" class="tiling-mode-btn active" data-value="frame" onclick="selectTilingMode(this)">Рамка з 4 частин</button>
              <button type="button" class="tiling-mode-btn" data-value="modular" onclick="selectTilingMode(this)">Модульне замощення</button>
            </div>
          </div>
          <div id="frame-controls">
            <div class="input-row">
              <div class="input-wrapper">
                <label id="tile-border-width-label" for="tile-border-width">Ширина рамки (мм)</label>
                <input type="number" id="tile-border-width" value="300" min="10" oninput="updateAllDisplays()">
              </div>
              <div class="input-wrapper">
                <label id="tile-overhang-label" for="tile-overhang">Виступ (мм)</label>
                <input type="number" id="tile-overhang" value="50" oninput="updateAllDisplays()">
              </div>
            </div>
            
            <div class="input-row">
              <div class="input-wrapper">
                <label id="tile-thickness-frame-label">Товщина</label>
                <div class="button-group-thickness">
                  <button type="button" class="thickness-btn" data-value="20" onclick="selectThickness(this)">2 см</button>
                  <button type="button" class="thickness-btn active" data-value="30" onclick="selectThickness(this)">3 см</button>
                  <button type="button" class="thickness-btn" data-value="40" onclick="selectThickness(this)">4 см</button>
                  <button type="button" class="thickness-btn" data-value="50" onclick="selectThickness(this)">5 см</button>
                </div>
              </div>
            </div>
          </div>
          <div id="modular-controls" class="hidden">
            <div class="input-row">
              <div class="input-wrapper">
                <label for="modular-tile-size">Розмір (см)</label>
                <select id="modular-tile-size" onchange="updateAllDisplays()">
                  <option value="80x40">80 x 40</option>
                  <option value="70x40">70 x 40</option>
                  <option value="60x40">60 x 40</option>
                  <option value="50x40">50 x 40</option>
                  <option value="40x40">40 x 40</option>
                  <option value="60x30">60 x 30</option>
                  <option value="50x30">50 x 30</option>
                  <option value="40x30">40 x 30</option>
                  <option value="30x30">30 x 30</option>
                  <option value="80x30">80 x 30</option>
                  <option value="70x30">70 x 30</option>
                </select>
              </div>
              <div class="input-wrapper">
                <label for="modular-thickness" id="modular-thickness-label">Товщина (мм)</label>
                <input type="number" id="modular-thickness" value="30" oninput="updateAllDisplays()">
              </div>
              <div class="input-wrapper">
                <label for="modular-overhang" id="modular-overhang-label">Виступ (мм)</label>
                <input type="number" id="modular-overhang" value="50" oninput="updateAllDisplays()">
              </div>
            </div>
            
            <div class="input-row">
              <div class="input-wrapper">
                <label id="modular-seam-label">Шов</label>
                <div class="button-group-seam">
                  <button type="button" class="seam-btn" data-value="2" onclick="selectSeam(this)">2 мм</button>
                  <button type="button" class="seam-btn" data-value="3" onclick="selectSeam(this)">3 мм</button>
                  <button type="button" class="seam-btn active" data-value="5" onclick="selectSeam(this)">5 мм</button>
                  <button type="button" class="seam-btn" data-value="4" onclick="selectSeam(this)">4 мм</button>
                </div>
              </div>
            </div>
          </div>
          <button onclick="addTiles(); advanceToNextPanel(this);">Додати плитку</button>
        </div>
      </section>

      <section class="panel collapsed">
        <div class="panel-header" onclick="togglePanel(this)">
          <h2 class="panel-title">Бокове облицювання</h2>
          <span class="chevron"></span>
          <span id="cladding-dimensions-display" class="header-dimensions"></span>
        </div>
        <div class="panel-content">
          <div class="input-row">
            <div class="input-wrapper">
              <label id="cladding-thickness-label" for="cladding-thickness">Товщина (мм)</label>
              <input type="number" id="cladding-thickness" value="20" min="10" oninput="updateAllDisplays()">
            </div>
          </div>
          <button onclick="addSideCladding(); advanceToNextPanel(this);">Додати</button>
        </div>
      </section>
    </div>

    <!-- Таб "Памятник" -->
    <div class="tab-content" id="monument-tab">
      <section class="panel">
        <div class="panel-header" onclick="togglePanel(this)">
          <h2 class="panel-title">Підставка</h2>
          <span class="chevron"></span>
          <span id="stands-dimensions-display" class="header-dimensions"></span>
        </div>
        <div class="panel-content">
          <div class="carousel-container">
            <div class="carousel-viewport" id="stands-carousel-viewport">
              <div class="carousel-track" id="stands-carousel-track"></div>
            </div>
          </div>
          <button onclick="addModel('stands'); advanceToNextPanel(this);">Додати підставку</button>
        </div>
      </section>
      
      <section class="panel collapsed">
        <div class="panel-header" onclick="togglePanel(this)">
          <h2 class="panel-title">Стела</h2>
          <span class="chevron"></span>
          <span id="steles-dimensions-display" class="header-dimensions"></span>
        </div>
        <div class="panel-content">
          <div class="carousel-container">
            <div class="carousel-viewport" id="steles-carousel-viewport">
              <div class="carousel-track" id="steles-carousel-track"></div>
            </div>
          </div>
          <button onclick="addModel('steles'); advanceToNextPanel(this);">Додати стелу</button>
        </div>
      </section>
    </div>

    <!-- Таб "Надгробна частина" -->
    <div class="tab-content" id="gravestone-tab">
      <section class="panel">
        <div class="panel-header" onclick="togglePanel(this)">
          <h2 class="panel-title">Квітник</h2>
          <span class="chevron"></span>
          <span id="flowerbeds-dimensions-display" class="header-dimensions"></span>
        </div>
        <div class="panel-content">
          <div class="carousel-container">
            <div class="carousel-viewport" id="flowerbeds-carousel-viewport">
              <div class="carousel-track" id="flowerbeds-carousel-track"></div>
            </div>
          </div>
          <button onclick="addModel('flowerbeds'); advanceToNextPanel(this);">Додати квітник</button>
        </div>
      </section>
      
      <section class="panel collapsed">
        <div class="panel-header" onclick="togglePanel(this)">
          <h2 class="panel-title">Надгробна плита</h2>
          <span class="chevron"></span>
          <span id="gravestones-dimensions-display" class="header-dimensions"></span>
        </div>
        <div class="panel-content">
          <div class="carousel-container">
            <div class="carousel-viewport" id="gravestones-carousel-viewport">
              <div class="carousel-track" id="gravestones-carousel-track"></div>
            </div>
          </div>
          <button onclick="addModel('gravestones'); advanceToNextPanel(this);">Додати надгробну плиту</button>
        </div>
      </section>
    </div>

    <!-- Таб "Огорожа" -->
    <div class="tab-content" id="fence-tab">
      <section class="panel">
        <div class="panel-header" onclick="togglePanel(this)">
          <h2 class="panel-title">Кутова огорожа</h2>
          <span class="chevron"></span>
          <span id="fence-corner-dimensions-display" class="header-dimensions"></span>
        </div>
        <div class="panel-content">
          <div class="input-row">
            <div class="input-wrapper">
              <label id="fence-corner-post-height-label" for="fence-corner-post-height">Висота стовпа (мм)</label>
              <input type="number" id="fence-corner-post-height" value="250" min="150" max="500" oninput="updateFenceCornerDisplay()">
            </div>
            <div class="input-wrapper">
              <label id="fence-corner-post-width-label" for="fence-corner-post-width">Ширина стовпа (мм)</label>
              <input type="number" id="fence-corner-post-width" value="150" min="100" max="300" oninput="updateFenceCornerDisplay()">
            </div>
            <div class="input-wrapper">
              <label id="fence-corner-post-depth-label" for="fence-corner-post-depth">Глибина стовпа (мм)</label>
              <input type="number" id="fence-corner-post-depth" value="150" min="100" max="300" oninput="updateFenceCornerDisplay()">
            </div>
          </div>
          <div class="input-row">
            <div class="input-wrapper">
              <label id="fence-corner-side-height-label" for="fence-corner-side-height">Висота панелі (мм)</label>
              <input type="number" id="fence-corner-side-height" value="150" min="100" max="300" oninput="updateFenceCornerDisplay()">
            </div>
            <div class="input-wrapper">
              <label id="fence-corner-side-length-label" for="fence-corner-side-length">Довжина панелі (мм)</label>
              <input type="number" id="fence-corner-side-length" value="500" min="200" max="600" oninput="updateFenceCornerDisplay()">
            </div>
            <div class="input-wrapper">
              <label id="fence-corner-side-thickness-label" for="fence-corner-side-thickness">Товщина панелі (мм)</label>
              <input type="number" id="fence-corner-side-thickness" value="50" min="30" max="150" oninput="updateFenceCornerDisplay()">
            </div>
          </div>
          <div class="input-row">
            <div class="input-wrapper">
              <label id="fence-corner-decorative-size-label" for="fence-corner-decorative-size">Розмір декора (мм)</label>
              <input type="number" id="fence-corner-decorative-size" value="100" min="80" max="200" oninput="updateFenceCornerDisplay()">
            </div>
          </div>
          <button onclick="addFenceCorner(); advanceToNextPanel(this);">Створити кутову огорожу</button>
        </div>
      </section>
      
      <section class="panel collapsed">
        <div class="panel-header" onclick="togglePanel(this)">
          <h2 class="panel-title">Периметральна огорожа</h2>
          <span class="chevron"></span>
          <span id="fence-perimeter-dimensions-display" class="header-dimensions"></span>
        </div>
        <div class="panel-content">
          <div class="input-row">
            <div class="input-wrapper">
              <label id="fence-perimeter-post-height-label" for="fence-perimeter-post-height">Висота стовпа (мм)</label>
              <input type="number" id="fence-perimeter-post-height" value="250" min="150" max="500" oninput="updateFencePerimeterDisplay()">
            </div>
            <div class="input-wrapper">
              <label id="fence-perimeter-post-width-label" for="fence-perimeter-post-width">Ширина стовпа (мм)</label>
              <input type="number" id="fence-perimeter-post-width" value="150" min="100" max="300" oninput="updateFencePerimeterDisplay()">
            </div>
            <div class="input-wrapper">
              <label id="fence-perimeter-post-depth-label" for="fence-perimeter-post-depth">Глибина стовпа (мм)</label>
              <input type="number" id="fence-perimeter-post-depth" value="150" min="100" max="300" oninput="updateFencePerimeterDisplay()">
            </div>
          </div>
          <div class="input-row">
            <div class="input-wrapper">
              <label id="fence-perimeter-decorative-height-label" for="fence-perimeter-decorative-height">Висота декора (мм)</label>
              <input type="number" id="fence-perimeter-decorative-height" value="100" min="80" max="200" oninput="updateFencePerimeterDisplay()">
            </div>
            <div class="input-wrapper">
              <label id="fence-perimeter-decorative-thickness-label" for="fence-perimeter-decorative-thickness">Товщина декора (мм)</label>
              <input type="number" id="fence-perimeter-decorative-thickness" value="100" min="80" max="200" oninput="updateFencePerimeterDisplay()">
            </div>
          </div>
          <div>
            <label class="label-left">Кількість проміжних стовпів:</label>
            <div class="input-row">
              <div class="input-wrapper">
                <label id="fence-perimeter-north-count-label" for="fence-perimeter-north-count">Задня сторона</label>
                <input type="number" id="fence-perimeter-north-count" value="1" min="0" max="5" oninput="updateFencePerimeterDisplay()">
              </div>
              <div class="input-wrapper">
                <label id="fence-perimeter-south-count-label" for="fence-perimeter-south-count">Вхід</label>
                <input type="number" id="fence-perimeter-south-count" value="2" min="0" max="5" oninput="updateFencePerimeterDisplay()">
              </div>
              <div class="input-wrapper">
                <label id="fence-perimeter-east-west-count-label" for="fence-perimeter-east-west-count">Бокові сторони</label>
                <input type="number" id="fence-perimeter-east-west-count" value="1" min="0" max="5" oninput="updateFencePerimeterDisplay()">
              </div>
            </div>
          </div>
          <button onclick="addFencePerimeter(); advanceToNextPanel(this);">Створити периметральну огорожу</button>
        </div>
      </section>
    </div>

    <!-- Таб "Додаткові елементи" -->
    <div class="tab-content" id="additional-tab">
      <div class="empty-tab-message">
        <p>Розділ "Додаткові елементи" знаходиться в розробці</p>
        <p>Тут будуть доступні додаткові компоненти та аксесуари</p>
      </div>
    </div>



    <!-- Специфікація (залишається поза табами) -->
    <section class="panel collapsed" id="specification-panel">
      <div class="panel-header" onclick="togglePanel(this)">
        <h2 class="panel-title">Специфікація</h2>
        <span class="chevron"></span>
        <span class="header-placeholder"></span>
      </div>
      <div class="panel-content">
        <table class="summary-table">
          <tr> <td>Фундамент:</td> <td id="summary-foundation">--</td> </tr>
          <tr> <td>Плитка (верх):</td> <td id="summary-tiling">--</td> </tr>
          <tr> <td>Облицювання (бік):</td> <td id="summary-cladding">--</td> </tr>
          <tr> <td>Відмостка:</td> <td id="summary-blind-area">--</td> </tr>
          <tr> <td>Підставка:</td> <td id="summary-stand">--</td> </tr>
          <tr> <td>Квітник:</td> <td id="summary-flowerbed">--</td> </tr>
          <tr> <td>Надгробна плита:</td> <td id="summary-gravestone">--</td> </tr>
          <tr> <td>Стела:</td> <td id="summary-stele">--</td> </tr>
          <tr> <td>Кутова огорожа:</td> <td id="summary-fence-corner">--</td> </tr>
          <tr> <td>Периметральна огорожа:</td> <td id="summary-fence-perimeter">--</td> </tr>
        </table>
        <button onclick="refreshSpecification()" class="refresh-button">Оновити</button>
      </div>
    </section>

  </div>

  <script type="module" src="src/index.js"></script>
  <script src="script.js"></script>
</body>
</html>