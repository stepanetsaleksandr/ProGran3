# üèõÔ∏è –ö–∞—Ä—É—Å–µ–ª—å Gravestones –∑ –ø—Ä–µ–≤—å—é - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

## üìã –û–≥–ª—è–¥

–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –ø–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—É –∫–∞—Ä—É—Å–µ–ª—å –¥–ª—è –Ω–∞–¥–≥—Ä–æ–±–Ω–∏—Ö –ø–ª–∏—Ç (gravestones) –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º –ø—Ä–µ–≤—å—é, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –ª–æ–≥—ñ–∫—É –∞–Ω–∞–ª–æ–≥—ñ—á–Ω—É –¥–æ –∫–∞—Ä—É—Å–µ–ª—ñ —Å—Ç–µ–ª.

## üéØ –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

### 1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–µ–≤—å—é**
- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø—Ä–µ–≤—å—é –∑ .skp —Ñ–∞–π–ª—ñ–≤ —á–µ—Ä–µ–∑ SketchUp API
- –õ–µ–¥–∞—á–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (lazy loading) –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- –ö–µ—à—É–≤–∞–Ω–Ω—è –ø—Ä–µ–≤—å—é –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø—É

### 2. **–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –∫–∞—Ä—É—Å–µ–ª—å**
- –ü–ª–∞–≤–Ω–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è –∑ –∫–æ–ª–µ—Å–æ–º –º–∏—à—ñ
- –ö–ª—ñ–∫ –¥–ª—è –≤–∏–±–æ—Ä—É –µ–ª–µ–º–µ–Ω—Ç–∞
- –í—ñ–∑—É–∞–ª—å–Ω–∞ —ñ–Ω–¥–∏–∫–∞—Ü—ñ—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞
- –ê–Ω—ñ–º–∞—Ü—ñ—ó –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤

### 3. **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ UI**
- –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤–∏–±—Ä–∞–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –ø—ñ–¥—Å—É–º–∫–æ–≤–æ—é —Ç–∞–±–ª–∏—Ü–µ—é
- –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∑ —Å–∏—Å—Ç–µ–º–æ—é –¥–æ–¥–∞–≤–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

### JavaScript –º–æ–¥—É–ª—ñ:
```
proGran3/web/script.js
‚îú‚îÄ‚îÄ initializeGravestonesCarousel()     # –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–∞—Ä—É—Å–µ–ª—ñ
‚îú‚îÄ‚îÄ loadOrGenerateGravestonesPreview()  # –õ–µ–¥–∞—á–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–µ–≤—å—é
‚îú‚îÄ‚îÄ autoGenerateGravestonesPreview()    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ showGravestonesCarouselItem()       # –ü–æ–∫–∞–∑ –µ–ª–µ–º–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ moveGravestonesCarousel()           # –ù–∞–≤—ñ–≥–∞—Ü—ñ—è
‚îî‚îÄ‚îÄ addGravestone()                     # –î–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ –º–æ–¥–µ–ª—ñ
```

### Ruby –º–æ–¥—É–ª—ñ:
```
proGran3/
‚îú‚îÄ‚îÄ skp_preview_extractor.rb           # –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø—Ä–µ–≤—å—é
‚îú‚îÄ‚îÄ create_gravestones_previews.rb     # –°–∫—Ä–∏–ø—Ç —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–µ–≤—å—é
‚îî‚îÄ‚îÄ ui.rb                              # Callback –¥–ª—è –ø—Ä–µ–≤—å—é
```

### CSS —Å—Ç–∏–ª—ñ:
```
proGran3/web/style.css
‚îî‚îÄ‚îÄ #gravestones-carousel-container     # –°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ —Å—Ç–∏–ª—ñ
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

### Assets:
```
proGran3/assets/gravestones/
‚îú‚îÄ‚îÄ plate_50x30x3.skp      # 3D –º–æ–¥–µ–ª—å
‚îú‚îÄ‚îÄ plate_50x30x3.png      # –ü—Ä–µ–≤—å—é (—ñ—Å–Ω—É—î)
‚îî‚îÄ‚îÄ plate_60x35x2_wave.skp # 3D –º–æ–¥–µ–ª—å
```

## üîß –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### 1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è**
–ö–∞—Ä—É—Å–µ–ª—å —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Ç–∞–±–∞ "gravestone".

### 2. **–ù–∞–≤—ñ–≥–∞—Ü—ñ—è**
- **–ö–æ–ª–µ—Å–æ –º–∏—à—ñ**: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è –º—ñ–∂ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏
- **–ö–ª—ñ–∫**: –ü—Ä—è–º–∏–π –≤–∏–±—ñ—Ä –µ–ª–µ–º–µ–Ω—Ç–∞
- **–ö–Ω–æ–ø–∫–∞ "–î–æ–¥–∞—Ç–∏"**: –î–æ–¥–∞–≤–∞–Ω–Ω—è –≤–∏–±—Ä–∞–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ –¥–æ –º–æ–¥–µ–ª—ñ

### 3. **–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø—Ä–µ–≤—å—é**
```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø—Ä–∏ –ø–æ–∫–∞–∑—ñ –µ–ª–µ–º–µ–Ω—Ç–∞
loadOrGenerateGravestonesPreview('gravestones', index);
```

## üé® UI –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

### –°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ —Å—Ç–∏–ª—ñ:
- –ì—Ä–∞–¥—ñ—î–Ω—Ç–Ω–∏–π —Ñ–æ–Ω –µ–ª–µ–º–µ–Ω—Ç—ñ–≤
- –ï—Ñ–µ–∫—Ç —Å–≤—ñ—Ç—ñ–Ω–Ω—è –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞
- –ê–Ω—ñ–º–æ–≤–∞–Ω—ñ –ø–µ—Ä–µ—Ö–æ–¥–∏
- –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

### –í—ñ–∑—É–∞–ª—å–Ω—ñ –µ—Ñ–µ–∫—Ç–∏:
- –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞
- –¢—ñ–Ω—ñ —Ç–∞ –æ–±–≤–µ–¥–µ–Ω–Ω—è
- –ü–ª–∞–≤–Ω—ñ –∞–Ω—ñ–º–∞—Ü—ñ—ó

## üîÑ –ü—Ä–æ—Ü–µ—Å —Ä–æ–±–æ—Ç–∏

### 1. **–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è**
```javascript
initializeGravestonesCarousel('gravestones');
```

### 2. **–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–µ–≤—å—é**
```javascript
loadOrGenerateGravestonesPreview('gravestones', 0);
```

### 3. **–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —á–µ—Ä–µ–∑ SketchUp**
```javascript
window.sketchup.generate_web_preview('gravestones/plate_50x30x3.skp');
```

### 4. **–û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É**
```javascript
receiveWebPreview('gravestones/plate_50x30x3.skp', base64Data);
```

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –¢–µ—Å—Ç–æ–≤–∏–π —Ñ–∞–π–ª:
```
proGran3/test_gravestones_carousel.html
```

### –§—É–Ω–∫—Ü—ñ—ó —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ —Ñ–∞–π–ª—ñ–≤
- –¢–µ—Å—Ç —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∫–∞—Ä—É—Å–µ–ª—ñ
- –°–∏–º—É–ª—è—Ü—ñ—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø—Ä–µ–≤—å—é
- –¢–µ—Å—Ç –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø—Ä–µ–≤—å—é
- ‚úÖ –õ–µ–¥–∞—á–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- ‚úÖ –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è
- ‚úÖ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ UI
- ‚úÖ –°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ —Å—Ç–∏–ª—ñ
- ‚úÖ –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
- ‚úÖ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –§–∞–π–ª–∏:
- ‚úÖ 2 .skp –º–æ–¥–µ–ª—ñ
- ‚úÖ 1 .png –ø—Ä–µ–≤—å—é
- ‚úÖ –ü–æ–≤–Ω–∏–π JavaScript –∫–æ–¥
- ‚úÖ CSS —Å—Ç–∏–ª—ñ
- ‚úÖ Ruby –º–æ–¥—É–ª—ñ
- ‚úÖ –¢–µ—Å—Ç–æ–≤–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

## üöÄ –ú–∞–π–±—É—Ç–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

### –ú–æ–∂–ª–∏–≤—ñ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è:
1. **–î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ–æ—Ä–º–∞—Ç–∏ –ø—Ä–µ–≤—å—é** (WebP, AVIF)
2. **–ö–µ—à—É–≤–∞–Ω–Ω—è –≤ localStorage**
3. **–ü—Ä–æ–≥—Ä–µ—Å–∏–≤–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è**
4. **–ê–Ω—ñ–º–∞—Ü—ñ—ó –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è**
5. **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ drag & drop**

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∏

- –ü—Ä–µ–≤—å—é —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤ —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ SketchUp
- –°–∏—Å—Ç–µ–º–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π callback `receiveWebPreview`
- –í—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω—ñ –∑ —ñ—Å–Ω—É—é—á–æ—é –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–æ—é
- –ü—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è –∑–≤–æ—Ä–æ—Ç–Ω–∞ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å

---

**–ê–≤—Ç–æ—Ä**: AI Assistant  
**–î–∞—Ç–∞**: 2024  
**–í–µ—Ä—Å—ñ—è**: 1.0
